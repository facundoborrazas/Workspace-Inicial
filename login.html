<!DOCTYPE html>
<html lang="es">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>eMercado - Todo lo que busques está aquí</title>

  <link href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/jwt-decode/build/jwt-decode.js"></script>
  <link href="css/styles.css" rel="stylesheet">
  <style>
    body {
      background-color: rgb(248, 249, 250);
    }
  </style>

  <script>
    function handleCredentialResponse(response) {
      const data = jwt_decode(response.credential)

      fullName.textContent = data.name
      sub.textContent = data.sub
      given_name.textContent = data.given_name
      family_name.textContent = data.family_name
      email.textContent = data.email
      verifiedEmail.textContent = data.email_verified
      picture.setAttribute("src", data.picture)
    }

    window.onload = function () {
      const clientID = "41946208457-m2hsc97f16mm4p0j1f4tf7fpmfd4th3q.apps.googleusercontent.com";

      google.accounts.id.initialize({
        client_id: clientID,
        callback: handleCredentialResponse
      });

      google.accounts.id.renderButton(
        document.getElementById("buttonDiv"), {
        theme: "filled_black",
        size: "large",
        type: "standard",
        shape: "pill",
        locale: "pt-BR",
        logo_alignment: "left",
      } // customization attributes
      );

      google.accounts.id.prompt(); // also display the One Tap dialog
    }
  </script>
</head>

<body class="text-center">

  <main class="form-signin w-100 m-auto">

    <div class="row">

      <form class="col-3">
        <img class="mb-4" src="img/login.png" alt="" width="100%" height="35%">

        <h1 class="h3 mb-3 fw-normal">Inicio de sección</h1>

        <div class="form-floating mb-3">
          <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
          <label for="floatingInput">Email</label>
        </div>
        <div class="form-floating mb-4">
          <input type="password" class="form-control" id="floatingPassword" placeholder="Password">
          <label for="floatingPassword">Contraseña</label>
          <p class="fs-6 fw-lighter text-muted">La contraseña debe tener al menos 6 caracteres</p>
        </div>
        <button class="w-100 btn btn-lg btn-primary mb-2" type="button" id="regBtn">Ingresar</button>

        <div id="buttonDiv"></div>

      </form>

    </div>

  </main>

  <footer class="text-muted mt-5">
    <div class="container">
      <p>Este sitio forma parte de <a href="https://jovenesaprogramar.edu.uy/" target="_blank">Jovenes a Programar</a> -
        2022 Clickea <a target="_blank" href="Letra.pdf">aquí</a> para descargar la letra del obligatorio.</p>
      <br>
      <p class="float-end">
        <a href="/login.html">Volver arriba</a>
      </p>
    </div>
  </footer>

  <!--Alertas para mostrar cuando se termina el logeo-->
  <div class="alert alert-success alert-dismissible fade" role="alert" id="alert-success">
    <p>Datos guardados correctamente</p>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

  <div class="alert alert-danger alert-dismissible fade" role="alert" id="alert-danger-email">
    <p>El email ingresado no cumplen con los requisitos solicitados</p>
    <button class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

  <div class="alert alert-danger alert-dismissible fade" role="alert" id="alert-danger-password">
    <p>La contraseña ingresada no cumplen con los requisitos solicitados</p>
    <button class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

  <script src="js/login.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</body>

</html>